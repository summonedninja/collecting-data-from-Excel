<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contracts List</title>
</head>
<body>
<h1>Contracts List</h1>
<table border="1">
    <thead>
    <tr>
        <th>Contract Code</th>
        <th>Contract Name</th>
        <th>Customer</th>
        <th>Stage Name</th>
        <th>Start Date</th>
        <th>End Date</th>
    </tr>
    </thead>
    <tbody>

    <tr th:each="contract : ${contracts}">

        <td th:text="${contract.contractCode}"></td>
        <td th:text="${contract.contractName}"></td>
        <td th:text="${contract.customer}"></td>
        <!-- Итерируем по стадиям контракта -->
        <td th:text="${contract.contractStage[0].stageName}"></td>
        <td th:text="${#dates.format(contract.contractStage[0].startDate, 'yyyy-MM-dd')}"></td>
        <td th:text="${#dates.format(contract.contractStage[0].endDate, 'yyyy-MM-dd')}"></td>
    </tr>
    </tbody>
</table>
<br>
</body>
</html>